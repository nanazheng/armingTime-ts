{"version":3,"sources":["components/ArmingTime/interface.ts","components/ArmingTime/util.ts","components/ArmingTime/EditTime.tsx","components/ArmingTime/Track.tsx","components/ArmingTime/CopyContainer.tsx","components/ArmingTime/Action.tsx","components/ArmingTime/Day.tsx","components/ArmingTime/index.tsx","App.tsx","reportWebVitals.ts","index.tsx"],"names":["WEEK","range","start","end","result","i","push","format","EditTime","props","activeIndex","dayIndex","timeline","timelines","handleVisibleClose","getDay","useState","moment","startTime","setStartTime","endTime","setEndTime","className","placeholder","value","allowClear","showNow","onChange","time","size","type","style","marginRight","onClick","message","error","length","time_sliders","cloneDeep","_startTime","_endTime","split","startHour","startMin","endHour","endMin","offset","parseInt","timeToCoordinate","Track","changeTrack","visible","setVisible","visibility","left","width","border","height","title","content","trigger","onVisibleChange","showTime","position","CopyContainer","handleCopyVisible","handleCopySave","checkAll","setCheckAll","indeterminate","setIndeterminate","day","MOMENDAY","checked","THUESDAY","WEDNESDAY","THURSDAY","FIRDAY","SATURDAY","SUNDAY","copyDays","setCopyDays","borderBottom","e","_copyDays","forEach","item","target","map","span","disabled","index","_indeterminate","_checkAll","find","onCheckSingleChange","copyIndexs","Action","trackIndex","getCopyDays","handleDeleteTrack","copyVisible","setCopyVisible","isEmpty","marginLeft","undefined","onConfirm","okText","cancelText","delete","Day","startPosition","activeTimelineIndex","coincide","setCoincide","setTrackIndex","SliderRef","useRef","onStartMove","document","addEventListener","onMouseMove","onMouseUp","Math","floor","_coincide","slider","preventDefault","pageX","startOffset","endOffset","coordinateToTime","filter","removeEventListener","hour","ref","onMouseDown","button","stopPropagation","current","getBoundingClientRect","splice","ArmingTime","week","setWeek","_week","findIndex","dayIndexs","del","DeleteOutlined","App","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.54e574da.chunk.js","sourcesContent":["export interface IDay {\r\n  day: WEEK;\r\n  timelines: ITimeline[];\r\n  checked: boolean;\r\n  delete: boolean;\r\n}\r\n\r\nexport interface ITimeline extends ITime {\r\n  offset: number;\r\n  length: number;\r\n  showTime?: boolean;\r\n  border?: boolean;\r\n}\r\n\r\nexport interface ITime {\r\n  startTime: string;\r\n  endTime: string;\r\n  startHour: number;\r\n  startMin: number;\r\n  endHour: number;\r\n  endMin: number;\r\n}\r\n\r\nexport interface ICopyDay {\r\n  day: WEEK;\r\n  checked: boolean;\r\n}\r\n\r\nexport enum WEEK {\r\n  MOMENDAY = \"周一\",\r\n  THUESDAY = \"周二\",\r\n  WEDNESDAY = \"周三\",\r\n  THURSDAY = \"周四\",\r\n  FIRDAY = \"周五\",\r\n  SATURDAY = \"周六\",\r\n  SUNDAY = \"周日\",\r\n}\r\n","import { ITime } from \"./interface\";\r\n\r\nexport function coordinateToTime(\r\n  startOffset: number,\r\n  endOffset: number\r\n): ITime {\r\n  //slider 的 width 为720，60 * 24 = 1440，为了都用整数好计算，所以 * 2\r\n  const startHour: number = Math.floor((startOffset * 2) / 60);\r\n  const startMin: number = (startOffset * 2) % 60;\r\n  const endHour: number = Math.floor((endOffset * 2) / 60);\r\n  const endMin: number = (endOffset * 2) % 60;\r\n  const startTime: string = `${startHour > 9 ? startHour : `0${startHour}`}:${\r\n    startMin > 9 ? startMin : `0${startMin}`\r\n  }`;\r\n  const endTime: string = `${endHour > 9 ? endHour : `0${endHour}`}:${\r\n    endMin > 9 ? endMin : `0${endMin}`\r\n  }`;\r\n  return {\r\n    startTime,\r\n    endTime,\r\n    startHour,\r\n    startMin,\r\n    endHour,\r\n    endMin,\r\n  };\r\n}\r\n\r\nexport function timeToCoordinate(startTime: string, endTime: string) {\r\n  let [startHour, startMin]: Array<string | number> = startTime.split(\":\");\r\n  let [endHour, endMin]: Array<string | number> = endTime.split(\":\");\r\n  startHour = parseInt(startHour);\r\n  startMin = parseInt(startMin);\r\n  endHour = parseInt(endHour);\r\n  endMin = parseInt(endMin);\r\n  const offset = (startHour * 60 + startMin) / 2;\r\n  const length = (endHour * 60 + endMin) / 2 - offset;\r\n  return {\r\n    offset,\r\n    length,\r\n    startHour,\r\n    startMin,\r\n    endHour,\r\n    endMin,\r\n  };\r\n}\r\n\r\nexport function range(start: number, end: number): number[] {\r\n  let result: number[] = [];\r\n  for (let i = start; i <= end; i++) {\r\n    result.push(i);\r\n  }\r\n  return result;\r\n}\r\n","import { useState } from \"react\";\r\nimport { Button, message, TimePicker } from \"antd\";\r\nimport { cloneDeep } from \"lodash\";\r\nimport moment from \"moment\";\r\nimport { ITimeline } from \"./interface\";\r\nimport { timeToCoordinate } from \"./util\";\r\n\r\ntype Iprops = {\r\n  activeIndex: number;\r\n  dayIndex: number;\r\n  timeline: ITimeline;\r\n  timelines: ITimeline[];\r\n  handleVisibleClose: () => void;\r\n  getDay: (timelines: ITimeline[], dayIndex: number) => void;\r\n};\r\n\r\nconst format = \"HH:mm\";\r\n\r\nexport default function EditTime(props: Iprops) {\r\n  const {\r\n    activeIndex,\r\n    dayIndex,\r\n    timeline,\r\n    timelines,\r\n    handleVisibleClose,\r\n    getDay,\r\n  } = props;\r\n  const [startTime, setStartTime] = useState(\r\n    moment(timeline.startTime, format)\r\n  );\r\n  const [endTime, setEndTime] = useState(moment(timeline.endTime, format));\r\n\r\n  const changeStartTime = (time: any) => {\r\n    setStartTime(time);\r\n  };\r\n\r\n  const changeEndTime = (time: any) => {\r\n    setEndTime(time);\r\n  };\r\n\r\n  const confirm = () => {\r\n    if (startTime > endTime) message.error(\"开始时间不能晚于结束时间\");\r\n    if (\r\n      activeIndex > 0 &&\r\n      startTime < moment(timelines[activeIndex - 1].endTime, format)\r\n    )\r\n      message.error(\"开始时间不能超过上一时间条的结束时间\");\r\n    if (\r\n      activeIndex < timelines.length - 1 &&\r\n      endTime > moment(timelines[activeIndex + 1].startTime, format)\r\n    )\r\n      return message.error(\"结束时间不能大于下一时间条的开始时间\");\r\n    let time_sliders = cloneDeep(timelines);\r\n    const _startTime = moment(startTime).format(format);\r\n    const _endTime = moment(endTime).format(format);\r\n\r\n    const { offset, length, startHour, startMin, endHour, endMin } =\r\n      timeToCoordinate(_startTime, _endTime);\r\n\r\n    time_sliders[activeIndex] = {\r\n      ...time_sliders[activeIndex],\r\n      offset,\r\n      length,\r\n      startTime: _startTime,\r\n      endTime: _endTime,\r\n      startHour,\r\n      startMin,\r\n      endHour,\r\n      endMin,\r\n    };\r\n    getDay(time_sliders, dayIndex);\r\n    handleVisibleClose();\r\n  };\r\n  return (\r\n    <div>\r\n      <div className=\"edit-time\">\r\n        <TimePicker\r\n          placeholder=\"开始时间1\"\r\n          value={startTime}\r\n          format={format}\r\n          allowClear={false}\r\n          showNow={false}\r\n          onChange={changeStartTime}\r\n        />\r\n        <span>至</span>\r\n        <TimePicker\r\n          placeholder=\"结束时间\"\r\n          value={endTime}\r\n          format={format}\r\n          allowClear={false}\r\n          showNow={false}\r\n          onChange={changeEndTime}\r\n        />\r\n      </div>\r\n      <div className=\"pop-footer\">\r\n        <Button\r\n          size=\"small\"\r\n          type=\"default\"\r\n          style={{ marginRight: \"10px\" }}\r\n          // onClick={handleVisibleChange}\r\n          onClick={handleVisibleClose}\r\n        >\r\n          取消\r\n        </Button>\r\n        <Button size=\"small\" type=\"primary\" onClick={confirm}>\r\n          确认\r\n        </Button>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React, { FC, ReactElement, useState } from \"react\";\r\nimport { Popover } from \"antd\";\r\nimport { ITimeline } from \"./interface\";\r\nimport EditTime from \"./EditTime\";\r\n\r\ninterface IProps {\r\n  activeIndex: number;\r\n  dayIndex: number;\r\n  changeTrack: (index: number) => void;\r\n  timeline: ITimeline;\r\n  offset: number;\r\n  length: number;\r\n  timelines: ITimeline[];\r\n  getDay: (timelines: ITimeline[], dayIndex: number) => void;\r\n}\r\n\r\nconst Track: FC<IProps> = ({\r\n  activeIndex,\r\n  dayIndex,\r\n  changeTrack,\r\n  timeline,\r\n  offset,\r\n  length,\r\n  timelines,\r\n  getDay,\r\n}): ReactElement => {\r\n  const [visible, setVisible] = useState<boolean>(false);\r\n  const style: React.CSSProperties = {\r\n    visibility: \"visible\",\r\n    left: offset + \"px\",\r\n    width: length + \"px\",\r\n  };\r\n  if (timeline.border) {\r\n    style.height = \"14px\";\r\n    style.border = \"1px dotted rgb(34 103 0)\";\r\n  }\r\n\r\n  const handleVisibleClose = () => {\r\n    setVisible(false);\r\n  };\r\n  const handleVisibleChange = (visible: boolean) => {\r\n    setVisible(visible);\r\n  };\r\n  return (\r\n    <Popover\r\n      title=\"修改时间\"\r\n      content={\r\n        <EditTime\r\n          activeIndex={activeIndex}\r\n          dayIndex={dayIndex}\r\n          timeline={timeline}\r\n          timelines={timelines}\r\n          handleVisibleClose={handleVisibleClose}\r\n          getDay={getDay}\r\n        />\r\n      }\r\n      trigger=\"click\"\r\n      visible={visible}\r\n      onVisibleChange={handleVisibleChange}\r\n    >\r\n      <div\r\n        className=\"timeline-track\"\r\n        onClick={() => changeTrack(activeIndex)}\r\n        style={style}\r\n      >\r\n        {timeline.showTime && (\r\n          <div style={{ position: \"relative\" }}>\r\n            <span className=\"rc-track-time\" style={{ left: 0 }}></span>\r\n            <span className=\"rc-track-time\" style={{ left: length - 1 }}></span>\r\n            {/* <Tooltip title={timeline.startTime} defaultVisible={true}>\r\n            <span className=\"track-time\" style={{ left: 0 }}></span>\r\n          </Tooltip>\r\n          <Tooltip title={timeline.endTime} defaultVisible={true}>\r\n            <span className=\"track-time\" style={{ left: length - 1 }}></span>\r\n          </Tooltip> */}\r\n          </div>\r\n        )}\r\n      </div>\r\n    </Popover>\r\n  );\r\n};\r\n\r\nexport default Track;\r\n","import { FC, useState } from \"react\";\r\nimport { Checkbox, Button, Row, Col } from \"antd\";\r\nimport { cloneDeep } from \"lodash\";\r\nimport { ICopyDay, WEEK } from \"./interface\";\r\nimport { CheckboxChangeEvent } from \"antd/lib/checkbox\";\r\n\r\ninterface IProps {\r\n  dayIndex: number;\r\n  handleCopyVisible: () => void;\r\n  handleCopySave: (copyIndexs: number[]) => void;\r\n}\r\n\r\nconst CopyContainer: FC<IProps> = ({\r\n  dayIndex,\r\n  handleCopyVisible,\r\n  handleCopySave,\r\n}) => {\r\n  const [checkAll, setCheckAll] = useState<boolean>(false);\r\n  const [indeterminate, setIndeterminate] = useState<boolean>(false);\r\n  const [copyDays, setCopyDays] = useState<ICopyDay[]>([\r\n    {\r\n      day: WEEK.MOMENDAY,\r\n      checked: false,\r\n    },\r\n    {\r\n      day: WEEK.THUESDAY,\r\n      checked: false,\r\n    },\r\n    {\r\n      day: WEEK.WEDNESDAY,\r\n      checked: false,\r\n    },\r\n    {\r\n      day: WEEK.THURSDAY,\r\n      checked: false,\r\n    },\r\n    {\r\n      day: WEEK.FIRDAY,\r\n      checked: false,\r\n    },\r\n    {\r\n      day: WEEK.SATURDAY,\r\n      checked: false,\r\n    },\r\n    {\r\n      day: WEEK.SUNDAY,\r\n      checked: false,\r\n    },\r\n  ]);\r\n\r\n  const onCheckAllChange = (e: CheckboxChangeEvent) => {\r\n    let _copyDays: ICopyDay[] = cloneDeep(copyDays);\r\n    _copyDays.forEach((item) => {\r\n      if (e.target.checked && !item.checked) {\r\n        item.checked = true;\r\n      }\r\n      if (!e.target.checked) {\r\n        item.checked = false;\r\n      }\r\n    });\r\n    setCopyDays(_copyDays);\r\n    setIndeterminate(false);\r\n    setCheckAll(e.target.checked);\r\n  };\r\n\r\n  const onCheckSingleChange = (e: CheckboxChangeEvent, index: number) => {\r\n    let _copyDays: ICopyDay[] = cloneDeep(copyDays),\r\n      _indeterminate: boolean = true,\r\n      _checkAll: boolean = false;\r\n    _copyDays[index].checked = e.target.checked;\r\n    if (!_copyDays.find((item) => !item.checked)) {\r\n      _indeterminate = false;\r\n      _checkAll = true;\r\n    }\r\n    setCopyDays(_copyDays);\r\n    setIndeterminate(_indeterminate);\r\n    setCheckAll(_checkAll);\r\n  };\r\n\r\n  const confirm = () => {\r\n    let _copyDays: ICopyDay[] = cloneDeep(copyDays),\r\n      copyIndexs: number[] = [];\r\n    _copyDays.forEach((item, i) => {\r\n      if (item.checked && i !== dayIndex) {\r\n        copyIndexs.push(i);\r\n        item.checked = false;\r\n      }\r\n    });\r\n    setCopyDays(_copyDays);\r\n    handleCopySave(copyIndexs);\r\n  };\r\n  return (\r\n    <div>\r\n      <div style={{ borderBottom: \"1px solid #E9E9E9\" }}>\r\n        <Checkbox\r\n          indeterminate={indeterminate}\r\n          onChange={onCheckAllChange}\r\n          checked={checkAll}\r\n        >\r\n          全选\r\n        </Checkbox>\r\n      </div>\r\n      <br />\r\n\r\n      <Row>\r\n        {copyDays.map((item, i) => {\r\n          if (i === dayIndex) {\r\n            item.checked = true;\r\n          }\r\n          return (\r\n            <Col span={8} key={i}>\r\n              <Checkbox\r\n                disabled={i === dayIndex}\r\n                checked={item.checked}\r\n                onChange={(e: CheckboxChangeEvent) => onCheckSingleChange(e, i)}\r\n              >\r\n                {item.day}\r\n              </Checkbox>\r\n            </Col>\r\n          );\r\n        })}\r\n      </Row>\r\n      <div className=\"pop-footer\">\r\n        <Button\r\n          size=\"small\"\r\n          type=\"default\"\r\n          style={{ marginRight: \"10px\" }}\r\n          onClick={handleCopyVisible}\r\n        >\r\n          取消\r\n        </Button>\r\n        <Button size=\"small\" type=\"primary\" onClick={confirm}>\r\n          确认\r\n        </Button>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CopyContainer;\r\n","import { useState } from \"react\";\r\nimport { Popover, Popconfirm } from \"antd\";\r\nimport { isEmpty } from \"lodash\";\r\nimport { ITimeline, IDay } from \"./interface\";\r\nimport CopyContainer from \"./CopyContainer\";\r\n\r\ntype IProps = {\r\n  trackIndex: number | undefined;\r\n  day: IDay;\r\n  dayIndex: number;\r\n  getCopyDays: (timelines: ITimeline[], copyIndex: number[]) => void;\r\n  handleDeleteTrack: () => void;\r\n};\r\n\r\nexport default function Action(props: IProps) {\r\n  const { trackIndex, getCopyDays, day, dayIndex, handleDeleteTrack } = props;\r\n  const [copyVisible, setCopyVisible] = useState<boolean>(false);\r\n\r\n  const handleCopySave = (copyIndexs: number[]) => {\r\n    getCopyDays(day.timelines, copyIndexs);\r\n    setCopyVisible(false);\r\n  };\r\n\r\n  const handleCopyVisible = () => {\r\n    if (isEmpty(day.timelines)) return;\r\n    setCopyVisible((copyVisible) => !copyVisible);\r\n  };\r\n\r\n  return (\r\n    <div className=\"action\">\r\n      <Popover\r\n        content={\r\n          <CopyContainer\r\n            dayIndex={dayIndex}\r\n            handleCopySave={handleCopySave}\r\n            handleCopyVisible={handleCopyVisible}\r\n          />\r\n        }\r\n        title=\"复制到...\"\r\n        trigger=\"click\"\r\n        visible={copyVisible}\r\n        onVisibleChange={handleCopyVisible}\r\n      >\r\n        <span\r\n          className={isEmpty(day.timelines) ? \"disabled\" : \"copy\"}\r\n          style={{ marginLeft: 0 }}\r\n        >\r\n          复制\r\n        </span>\r\n      </Popover>\r\n      <Popconfirm\r\n        title=\"确定删除吗\"\r\n        disabled={trackIndex === undefined}\r\n        onConfirm={handleDeleteTrack}\r\n        okText=\"确定\"\r\n        cancelText=\"取消\"\r\n      >\r\n        <span\r\n          className={\r\n            isEmpty(day.timelines) || !day.delete ? \"disabled\" : \"delete\"\r\n          }\r\n        >\r\n          删除\r\n        </span>\r\n      </Popconfirm>\r\n    </div>\r\n  );\r\n}\r\n","import React, { FC, ReactElement, useRef, useState } from \"react\";\r\nimport { Checkbox } from \"antd\";\r\nimport { isEmpty, cloneDeep } from \"lodash\";\r\nimport { coordinateToTime, range } from \"./util\";\r\nimport { IDay, ITimeline } from \"./interface\";\r\nimport Track from \"./Track\";\r\nimport Action from \"./Action\";\r\n\r\ninterface IProps {\r\n  day: IDay;\r\n  dayIndex: number;\r\n  getDay: (timelines: ITimeline[], dayIndex: number) => void;\r\n  onCheckSingleChange: (index: number) => void;\r\n  getCopyDays: (timelines: ITimeline[], copyIndexs: number[]) => void;\r\n}\r\n\r\nconst Day: FC<IProps> = ({\r\n  day,\r\n  dayIndex,\r\n  getDay,\r\n  onCheckSingleChange,\r\n  getCopyDays,\r\n}): ReactElement => {\r\n  let offset: number,\r\n    startPosition: number,\r\n    activeTimelineIndex: number,\r\n    time_sliders: ITimeline[] = cloneDeep(day.timelines);\r\n  const [coincide, setCoincide] = useState<boolean>(false);\r\n  const [trackIndex, setTrackIndex] = useState<number | undefined>(undefined);\r\n  const SliderRef = useRef<HTMLDivElement>(null);\r\n\r\n  // 按下鼠标左键\r\n  const onMouseDown: React.MouseEventHandler<HTMLDivElement> = (e) => {\r\n    if (e.button !== 0) {\r\n      return;\r\n    }\r\n    e.stopPropagation();\r\n    e.preventDefault();\r\n    const { left } = SliderRef.current!.getBoundingClientRect();\r\n    const { pageX: position } = e;\r\n    onStartMove(position, left);\r\n  };\r\n\r\n  const onStartMove = (position: number, left: number) => {\r\n    document.addEventListener(\"mousemove\", onMouseMove);\r\n    document.addEventListener(\"mouseup\", onMouseUp);\r\n    offset = Math.floor(position - left); // 时间条距离边框的宽度\r\n    startPosition = position; // 鼠标左键按下位置\r\n    activeTimelineIndex = day.timelines.length; // 正在画线的 index\r\n    let _coincide: boolean = false;\r\n    if (!isEmpty(day.timelines)) {\r\n      //处理画线重合\r\n      day.timelines.forEach((slider) => {\r\n        if (slider.offset < offset && slider.offset + slider.length > offset) {\r\n          _coincide = true;\r\n        }\r\n      });\r\n    }\r\n    setCoincide(_coincide);\r\n  };\r\n\r\n  const onMouseMove = (e: MouseEvent) => {\r\n    e.preventDefault();\r\n    if (coincide) return; // 鼠标按下位置已有画线\r\n    let length: number = e.pageX - startPosition;\r\n    // 当画线超过 slider 总长度时\r\n    if (offset + length >= 720) {\r\n      length = 719.5 - offset;\r\n    }\r\n    // 限制画线重合\r\n    day.timelines.forEach((timeline) => {\r\n      if (offset < timeline.offset && offset + length > timeline.offset) {\r\n        length = timeline.offset - offset - 1;\r\n      }\r\n    });\r\n    const { startTime, endTime, startHour, startMin, endHour, endMin } =\r\n      coordinateToTime(offset, offset + length);\r\n    time_sliders[activeTimelineIndex] = {\r\n      offset,\r\n      length,\r\n      startTime,\r\n      endTime,\r\n      startHour,\r\n      startMin,\r\n      endHour,\r\n      endMin,\r\n      // showTime: true,\r\n    };\r\n\r\n    //过滤 length <= 0的slider\r\n    time_sliders = time_sliders.filter((slider) => slider.length > 0);\r\n\r\n    getDay(time_sliders, dayIndex);\r\n  };\r\n\r\n  const onMouseUp = (e: MouseEvent) => {\r\n    e.preventDefault();\r\n    // const index = time_sliders.findIndex((slider) => slider.showTime);\r\n    // if (index > -1) {\r\n    //   time_sliders[index].showTime = false;\r\n    // }\r\n    getDay(time_sliders, dayIndex);\r\n    document.removeEventListener(\"mousemove\", onMouseMove);\r\n    document.removeEventListener(\"mouseup\", onMouseUp);\r\n  };\r\n\r\n  // 点击选中 track\r\n  const changeTrack = (index: number) => {\r\n    time_sliders.forEach((slider) => {\r\n      if (slider.border) slider.border = false;\r\n    });\r\n    time_sliders[index].border = true;\r\n    getDay(time_sliders, dayIndex);\r\n    setTrackIndex(index);\r\n  };\r\n\r\n  // 删除选中的 track\r\n  const handleDeleteTrack = () => {\r\n    if (isEmpty(day.timelines) || trackIndex === undefined) return;\r\n    time_sliders.splice(trackIndex, 1);\r\n    getDay(time_sliders, dayIndex);\r\n    setTrackIndex(undefined);\r\n  };\r\n  return (\r\n    <div className=\"day\">\r\n      <Checkbox\r\n        checked={day.checked}\r\n        className=\"checkbox\"\r\n        onChange={(e) => onCheckSingleChange(dayIndex)}\r\n      ></Checkbox>\r\n      <div className=\"date\">{day.day}</div>\r\n      <div className=\"timeline\">\r\n        <div className=\"time\">\r\n          {range(0, 24).map((hour) => {\r\n            return (\r\n              <div className=\"hour\" key={hour}>\r\n                <span>{hour}</span>\r\n                <i className=\"line\"></i>\r\n              </div>\r\n            );\r\n          })}\r\n        </div>\r\n        <div ref={SliderRef} onMouseDown={onMouseDown} className=\"slider\">\r\n          {day.timelines.map((timeline, i) => {\r\n            return (\r\n              <Track\r\n                key={i}\r\n                activeIndex={i}\r\n                dayIndex={dayIndex}\r\n                timeline={timeline}\r\n                offset={timeline.offset}\r\n                length={timeline.length}\r\n                timelines={day.timelines}\r\n                changeTrack={changeTrack}\r\n                getDay={getDay}\r\n              />\r\n            );\r\n          })}\r\n        </div>\r\n      </div>\r\n      <Action\r\n        trackIndex={trackIndex}\r\n        getCopyDays={getCopyDays}\r\n        day={day}\r\n        dayIndex={dayIndex}\r\n        handleDeleteTrack={handleDeleteTrack}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Day;\r\n","import { FC, ReactElement, useState } from \"react\";\r\nimport { Checkbox, Popconfirm, message } from \"antd\";\r\nimport { DeleteOutlined } from \"@ant-design/icons\";\r\nimport { cloneDeep } from \"lodash\";\r\nimport { IDay, ITimeline, WEEK } from \"./interface\";\r\nimport { CheckboxChangeEvent } from \"antd/lib/checkbox\";\r\nimport Day from \"./Day\";\r\nimport \"./index.css\";\r\n\r\n// const initState = {}\r\n\r\nconst ArmingTime: FC = (): ReactElement => {\r\n  const [indeterminate, setIndeterminate] = useState<boolean>(false);\r\n  const [checkAll, setCheckAll] = useState<boolean>(false);\r\n  const [week, setWeek] = useState<IDay[]>([\r\n    { day: WEEK.MOMENDAY, timelines: [], checked: false, delete: false },\r\n    { day: WEEK.THUESDAY, timelines: [], checked: false, delete: false },\r\n    { day: WEEK.WEDNESDAY, timelines: [], checked: false, delete: false },\r\n    { day: WEEK.THURSDAY, timelines: [], checked: false, delete: false },\r\n    { day: WEEK.FIRDAY, timelines: [], checked: false, delete: false },\r\n    { day: WEEK.SATURDAY, timelines: [], checked: false, delete: false },\r\n    { day: WEEK.SUNDAY, timelines: [], checked: false, delete: false },\r\n  ]);\r\n  // const [state, dispatch] = useReducer(weekReducer, initState)\r\n\r\n  // 单选\r\n  const onCheckSingleChange = (index: number) => {\r\n    let _week: IDay[] = cloneDeep(week),\r\n      _indeterminate: boolean = false,\r\n      _checkAll: boolean = false;\r\n    _week[index].checked = !_week[index].checked;\r\n    _week.forEach((day) => {\r\n      if (day.checked) {\r\n        _indeterminate = true;\r\n      }\r\n    });\r\n    if (!_week.find((day) => !day.checked)) {\r\n      _indeterminate = false;\r\n      _checkAll = true;\r\n    }\r\n    setWeek(_week);\r\n    setIndeterminate(_indeterminate);\r\n    setCheckAll(_checkAll);\r\n  };\r\n\r\n  // 全选\r\n  const onCheckAllChange = (e: CheckboxChangeEvent) => {\r\n    let _week: IDay[] = cloneDeep(week);\r\n    _week.forEach((day) => {\r\n      if (e.target.checked && !day.checked) {\r\n        day.checked = true;\r\n      }\r\n      if (!e.target.checked) {\r\n        day.checked = false;\r\n      }\r\n    });\r\n    setWeek(_week);\r\n    setIndeterminate(false);\r\n    setCheckAll((checkAll) => !checkAll);\r\n  };\r\n\r\n  // 更新画线数据\r\n  const getDay = (timelines: ITimeline[], dayIndex: number) => {\r\n    let _week: IDay[] = cloneDeep(week);\r\n    const index = timelines.findIndex((slider) => slider.border === true);\r\n    if (index > -1) {\r\n      _week[dayIndex].delete = true;\r\n    } else {\r\n      _week[dayIndex].delete = false;\r\n    }\r\n    _week[dayIndex].timelines = timelines;\r\n    setWeek(_week);\r\n  };\r\n\r\n  // 更新复制的画线数据\r\n  const getCopyDays = (timelines: ITimeline[], dayIndexs: number[]) => {\r\n    let _week: IDay[] = cloneDeep(week);\r\n    dayIndexs.forEach((index) => {\r\n      _week[index].timelines = timelines;\r\n    });\r\n    setWeek(_week);\r\n  };\r\n\r\n  // 批量删除\r\n  const batchDelete = () => {\r\n    let _week: IDay[] = week,\r\n      del: boolean = false;\r\n    _week.forEach((day) => {\r\n      if (day.checked) {\r\n        del = true;\r\n        day.timelines = [];\r\n        day.checked = false;\r\n      }\r\n    });\r\n    if (!del) {\r\n      message.error(\"请先选择一个数据\");\r\n    }\r\n    setWeek(_week);\r\n    setIndeterminate(false);\r\n    setCheckAll(false);\r\n  };\r\n  return (\r\n    <div className=\"container\">\r\n      <div className=\"batch-operation\">\r\n        <Popconfirm\r\n          title=\"确定批量删除吗\"\r\n          onConfirm={batchDelete}\r\n          okText=\"确定\"\r\n          cancelText=\"取消\"\r\n        >\r\n          <span className=\"batch-delete\">\r\n            <DeleteOutlined className=\"icon\" />\r\n            <span>批量删除</span>\r\n          </span>\r\n        </Popconfirm>\r\n      </div>\r\n      <div className=\"table\">\r\n        <div className=\"theader\">\r\n          <Checkbox\r\n            className=\"checkbox\"\r\n            indeterminate={indeterminate}\r\n            checked={checkAll}\r\n            onChange={onCheckAllChange}\r\n          ></Checkbox>\r\n          <div className=\"date\">日期</div>\r\n          <div className=\"period\">时间段</div>\r\n          <div className=\"action\">操作</div>\r\n        </div>\r\n        {week.map((day, i) => {\r\n          return (\r\n            <Day\r\n              key={day.day}\r\n              dayIndex={i}\r\n              day={day}\r\n              getDay={getDay}\r\n              onCheckSingleChange={onCheckSingleChange}\r\n              getCopyDays={getCopyDays}\r\n            />\r\n          );\r\n        })}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ArmingTime;\r\n","import ArmingTime from \"./components/ArmingTime\";\r\nimport \"./App.css\";\r\n\r\nfunction App() {\r\n  return <ArmingTime />;\r\n}\r\n\r\nexport default App;\r\n","import { ReportHandler } from 'web-vitals';\r\n\r\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport reportWebVitals from './reportWebVitals';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}